# API

- protobuf is to store the proto file
- login is to store the api file without auth required
- app is to store the api file with auth required

## Protobuf File

The ts code is generated by [protoapi](https://github.com/yoozoo/protoapi/blob/master/README_en.md). Currently it cannot support multiple service definitions in proto file and auth. So I separate the service and use a customized template to generate the code with auth function.

> The original proto file is from backend repo, I will maintain them. [repo-link](https://gitlab.dietlens.com/cyrus/diethealth_backend)

## An Example

```javascript
var web = require('./InfoService');

var req = { username: 'John', password: '123456' };
web.SetBaseUrl('http://localhost:8080');
web.SetAuthToken('token');
web
  .ConsoleInfo(req)
  .then(resp => {
    console.log(resp);
    console.log('this is new line');
  })
  .catch(err => console.log(err));
console.log(req);
```
