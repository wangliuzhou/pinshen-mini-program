"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var capacity = 6;
var list = [];
function getAllValue() {
    list = [];
    for (var index = 0; index < capacity; index++) {
        var key = "LRU_" + index;
        var jsonString = wx.getStorageSync(key);
        console.log(jsonString);
        if (jsonString && jsonString !== "") {
            var foodObj = JSON.parse(jsonString);
            list.push(foodObj);
        }
    }
    return list;
}
exports.getAllValue = getAllValue;
function saveAllValue() {
    for (var index = 0; index < list.length; index++) {
        var key = "LRU_" + index;
        var foodObj = list[index];
        var jsonString = JSON.stringify(foodObj);
        wx.setStorageSync(key, jsonString);
    }
}
exports.saveAllValue = saveAllValue;
function setValue(valObj) {
    var foodId = valObj.foodId;
    for (var index = 0; index < list.length; index++) {
        if (foodId === list[index].foodId) {
            list.splice(index, 1);
        }
    }
    if (list.length === capacity) {
        list.pop();
    }
    list.unshift(valObj);
    saveAllValue();
}
exports.setValue = setValue;
function clearAll() {
    for (var index = 0; index < capacity; index++) {
        var key = "LRU_" + index;
        wx.setStorageSync(key, "");
    }
}
exports.clearAll = clearAll;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGV4dENhY2hlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVGV4dENhY2hlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0UsSUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFDO0FBQ25CLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUVkLFNBQWdCLFdBQVc7SUFDekIsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNWLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDN0MsSUFBSSxHQUFHLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN6QixJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFeEIsSUFBSSxVQUFVLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBQztZQUNsQyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDcEI7S0FDRjtJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQWJELGtDQWFDO0FBR0QsU0FBZ0IsWUFBWTtJQUMxQixLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNoRCxJQUFJLEdBQUcsR0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pDLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0tBQ3BDO0FBQ0gsQ0FBQztBQVBELG9DQU9DO0FBR0QsU0FBZ0IsUUFBUSxDQUFDLE1BQU07SUFDN0IsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUMzQixLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBQztRQUUvQyxJQUFJLE1BQU0sS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFDO1lBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RCO0tBQ0Y7SUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUFDO1FBQzNCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUNaO0lBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQixZQUFZLEVBQUUsQ0FBQztBQUNqQixDQUFDO0FBZEQsNEJBY0M7QUFFRCxTQUFnQixRQUFRO0lBQ3RCLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDN0MsSUFBSSxHQUFHLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN6QixFQUFFLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztLQUM1QjtBQUNILENBQUM7QUFMRCw0QkFLQyIsInNvdXJjZXNDb250ZW50IjpbIlxuICBjb25zdCBjYXBhY2l0eSA9IDY7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFZhbHVlKCkge1xuICAgIGxpc3QgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY2FwYWNpdHk7IGluZGV4KyspIHtcbiAgICAgIGxldCBrZXkgPSBcIkxSVV9cIiArIGluZGV4O1xuICAgICAgbGV0IGpzb25TdHJpbmcgPSB3eC5nZXRTdG9yYWdlU3luYyhrZXkpO1xuICAgICAgY29uc29sZS5sb2coanNvblN0cmluZyk7XG4gICAgICAvL2NvbnZlcnQganNvblN0aW5nIHRvIGFuIG9iamVjdFwiTFJVX1wiXG4gICAgICBpZiAoanNvblN0cmluZyAmJiBqc29uU3RyaW5nICE9PSBcIlwiKXtcbiAgICAgICAgbGV0IGZvb2RPYmogPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICBsaXN0LnB1c2goZm9vZE9iaik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgLy9zYXZlIGFsbCB2YWx1ZSB0byBjYWNoZVxuICBleHBvcnQgZnVuY3Rpb24gc2F2ZUFsbFZhbHVlKCkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgbGV0IGtleSA9IFwiTFJVX1wiICsgaW5kZXg7XG4gICAgICBsZXQgZm9vZE9iaiA9IGxpc3RbaW5kZXhdO1xuICAgICAgbGV0IGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShmb29kT2JqKTtcbiAgICAgIHd4LnNldFN0b3JhZ2VTeW5jKGtleSwganNvblN0cmluZyk7XG4gICAgfVxuICB9XG5cbiAgLy9qdWRlZ2UgdGhlIHVuaXF1ZSBpdGVtIGJ5IGZvb2RJZFxuICBleHBvcnQgZnVuY3Rpb24gc2V0VmFsdWUodmFsT2JqKXtcbiAgICBsZXQgZm9vZElkID0gdmFsT2JqLmZvb2RJZDtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGlzdC5sZW5ndGg7IGluZGV4Kyspe1xuICAgICAgLy9yZW1vdmUgdGhlIG9iaiB3aXRoIHNhbWUga2V5XG4gICAgICBpZiAoZm9vZElkID09PSBsaXN0W2luZGV4XS5mb29kSWQpe1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy9jYWNoZSBmdWxsIGxlbmd0aCBjYXNlLHJlbW92ZSBsYXN0XG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSBjYXBhY2l0eSl7XG4gICAgICBsaXN0LnBvcCgpO1xuICAgIH1cbiAgICBsaXN0LnVuc2hpZnQodmFsT2JqKTtcbiAgICBzYXZlQWxsVmFsdWUoKTtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbCgpe1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjYXBhY2l0eTsgaW5kZXgrKykge1xuICAgICAgbGV0IGtleSA9IFwiTFJVX1wiICsgaW5kZXg7XG4gICAgICB3eC5zZXRTdG9yYWdlU3luYyhrZXksIFwiXCIpO1xuICAgIH1cbiAgfSJdfQ==